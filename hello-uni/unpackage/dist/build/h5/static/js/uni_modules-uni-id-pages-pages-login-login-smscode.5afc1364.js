(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["uni_modules-uni-id-pages-pages-login-login-smscode"],{"33ff1":function(t,e,n){"use strict";var i=n("9bd2"),o=n.n(i);o.a},"52de":function(t,e,n){"use strict";n.r(e);var i=n("83ba"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"83ba":function(t,e,n){"use strict";(function(t){var i=n("4ea4");n("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("d352")),a={mixins:[o.default],data:function(){return{code:"",phone:"",captcha:"",logo:"/static/logo.png"}},computed:{tipText:function(){return"验证码已通过短信发送至"+this.phone}},onLoad:function(t){var e=t.phoneNumber;this.phone=e},onShow:function(){var t=this;console.log("onShow"),document.onkeydown=function(e){var n=e||window.event;n&&13==n.keyCode&&t.submit()}},methods:{submit:function(){var e=this,n=t.importObject("uni-id-co",{errorOptions:{type:"toast"}});if(6!=this.code.length)return this.$refs.smsCode.focusSmsCodeInput=!0,uni.showToast({title:"验证码不能为空",icon:"none"});n.loginBySms({mobile:this.phone,code:this.code,captcha:this.captcha}).then((function(t){console.log(t),e.loginSuccess(t)})).catch((function(t){"uni-id-captcha-required"==t.errCode?e.$refs.popup.open():(console.log(t.errMsg),console.log(t.errCode))})).finally((function(t){e.captcha=""}))}}};e.default=a}).call(this,n("a9ff")["default"])},"9bd2":function(t,e,n){var i=n("b30e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("a9cfb464",i,!0,{sourceMap:!1,shadowMode:!1})},a7db:function(t,e,n){"use strict";n.r(e);var i=n("bee9"),o=n("52de");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("33ff1");var c,s=n("f0c5"),d=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"b683c846",null,!1,i["a"],c);e["default"]=d.exports},b30e:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.input-box[data-v-b683c846]  .uni-input-input[type="password"]::-ms-reveal{display:none}uni-page-body[data-v-b683c846]{background-color:#efefef}.uni-content[data-v-b683c846]{padding:0 %?60?%}.login-logo[data-v-b683c846]{display:none}@media screen and (min-width:690px){.uni-content[data-v-b683c846]{margin:0 auto;position:relative;top:100px;padding:30px 40px 80px 40px;max-width:450px;max-height:450px;border-radius:10px;box-shadow:0 0 20px #efefef;background-color:#fff}.login-logo[data-v-b683c846]{display:flex;justify-content:center}.login-logo uni-image[data-v-b683c846]{width:60px;height:60px}.register-back[data-v-b683c846]{display:none}uni-button[data-v-b683c846]{padding-bottom:1px}}.uni-content uni-view[data-v-b683c846]{box-sizing:border-box}.title[data-v-b683c846]{display:flex;padding:18px 0;font-weight:800;flex-direction:column}.tip[data-v-b683c846]{display:flex;color:#bdbdc0;font-size:11px;margin:6px 0}.uni-content[data-v-b683c846]  .uni-easyinput__content,\n.input-box[data-v-b683c846]{height:44px;background-color:#f8f8f8!important;border-radius:0;font-size:14px;display:flex;flex:1}.link[data-v-b683c846]{color:#04498c;cursor:pointer}.uni-content[data-v-b683c846]  .uni-forms-item__inner{padding-bottom:8px}.uni-btn[data-v-b683c846]{text-align:center;height:40px;line-height:40px;margin:15px 0 0 0;color:#fff!important;border-radius:5px}.uni-body.uni_modules-uni-id-pages-pages-login-login-withoutpwd[data-v-b683c846]{height:auto!important}.tip[data-v-b683c846]{margin-top:-15px;margin-bottom:15px}.popup-captcha[data-v-b683c846]{display:flex;padding:%?20?%;background-color:#fff;border-radius:2px;flex-direction:column;position:relative}.popup-captcha .title[data-v-b683c846]{font-weight:400;padding:0;padding-bottom:15px;color:#666}.popup-captcha .close[data-v-b683c846]{position:absolute;bottom:-40px;margin-left:-13px;left:50%}.popup-captcha .uni-btn[data-v-b683c846]{margin:0}body.?%PAGE?%[data-v-b683c846]{background-color:#efefef}',""]),t.exports=e},bee9:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uniForms:n("eae8").default,uniIdPagesSmsForm:n("3896").default,uniPopupCaptcha:n("506a").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-content"},[n("v-uni-view",{staticClass:"login-logo"},[n("v-uni-image",{attrs:{src:t.logo}})],1),n("v-uni-text",{staticClass:"title"},[t._v("请输入验证码")]),n("v-uni-text",{staticClass:"tip"},[t._v("先输入图形验证码，再获取短信验证码")]),n("uni-forms",[n("uni-id-pages-sms-form",{ref:"smsCode",attrs:{focusCaptchaInput:!0,type:"login-by-sms",phone:t.phone},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),n("v-uni-button",{staticClass:"uni-btn send-btn",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("登录")])],1),n("uni-popup-captcha",{ref:"popup",attrs:{scene:"login-by-sms"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}})],1)},a=[]},d352:function(t,e,n){"use strict";var i=n("4ea4");n("4160"),n("caad"),n("ac1f"),n("2532"),n("1276"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("5530")),a=n("5081"),c=i(n("e40f")),s={data:function(){return{config:c.default,uniIdRedirectUrl:"",isMounted:!1}},onUnload:function(){document.onkeydown=!1},mounted:function(){this.isMounted=!0},onLoad:function(t){var e=this;if(t.is_weixin_redirect){if(uni.showLoading({mask:!0}),window.location.href.includes("#")){var n=window.location.href.split("?")[1].split("&");n.forEach((function(e){var n=e.split("=");"code"==n[0]&&(t.code=n[1])}))}this.$nextTick((function(n){console.log(e.$refs.uniFabLogin),e.$refs.uniFabLogin.login({code:t.code},"weixin")}))}t.uniIdRedirectUrl&&(this.uniIdRedirectUrl=decodeURIComponent(t.uniIdRedirectUrl))},computed:{needAgreements:function(){if(this.isMounted)return!!this.$refs.agreements&&this.$refs.agreements.needAgreements},agree:{get:function(){if(this.isMounted)return!this.$refs.agreements||this.$refs.agreements.isAgree},set:function(t){this.$refs.agreements?this.$refs.agreements.isAgree=t:console.log("不存在 隐私政策协议组件")}}},methods:{loginSuccess:function(t){a.mutations.loginSuccess((0,o.default)((0,o.default)({},t),{},{uniIdRedirectUrl:this.uniIdRedirectUrl}))}}},d=s;e.default=d},e40f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={debug:!1,isAdmin:!1,loginTypes:["weixin","username","smsCode"],agreements:{serviceUrl:"https://xxx",privacyUrl:"https://xxx",scope:["register","login"]},appid:{weixin:{h5:"xxxxxx",web:"xxxxxx"}},passwordStrength:"medium"};e.default=i}}]);